<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - Dynamic Content Management</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background:#f5f5f5; padding:20px; }

/* üîê LOGIN */
#loginScreen { max-width:400px; margin:120px auto; background:white; padding:2rem; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1); text-align:center; }
#loginScreen input { width:100%; padding:0.8rem; margin:1rem 0; font-size:1rem; }
#loginScreen button { padding:0.8rem 2rem; font-size:1rem; cursor:pointer; }

.container { max-width:1200px; margin:0 auto; background:white; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1); overflow:hidden; }
.header { background:linear-gradient(135deg, #667eea, #764ba2); color:white; padding:2rem; display:flex; justify-content:space-between; align-items:center; }
.save-btn { background:white; color:#667eea; border:none; padding:0.8rem 2rem; border-radius:5px; font-weight:bold; cursor:pointer; }

.tabs { display:flex; background:#f8f9fa; overflow-x:auto; }
.tab { padding:1rem 2rem; cursor:pointer; border:none; background:none; white-space:nowrap; }
.tab.active { background:white; border-bottom:3px solid #667eea; font-weight:bold; }

.content { padding:2rem; }
.tab-content { display:none; }
.tab-content.active { display:block; }

input, textarea { width:100%; padding:0.8rem; border:1px solid #ddd; border-radius:5px; margin-bottom:0.5rem; }

.section-title { font-size:1.5rem; color:#667eea; margin-bottom:1rem; }

.alert { display:none; padding:1rem; background:#d4edda; margin:1rem 0; border-radius:5px; }
.alert.active { display:block; }

.card { background:#f8f9fa; padding:1rem; border-radius:8px; margin-bottom:1rem; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
.card button { background:#ff4d4f; color:white; border:none; padding:0.3rem 0.8rem; border-radius:5px; cursor:pointer; }
</style>
</head>
<body>

<!-- üîê LOGIN SCREEN -->
<div id="loginScreen">
    <h2>üîê Admin Login</h2>
    <input type="password" id="adminPassword" placeholder="Enter password">
    <button onclick="login()">Login</button>
    <p id="loginError" style="color:red;"></p>
</div>

<!-- üõ† ADMIN PANEL -->
<div id="adminPanel" style="display:none;">
    <div class="container">
        <div class="header">
            <h1>üìù Website Admin Panel</h1>
            <button class="save-btn" onclick="saveAllData()">üíæ Save All Changes</button>
        </div>

        <div class="alert" id="saveAlert">‚úÖ Changes saved!</div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('profile', event)">Profile</button>
            <button class="tab" onclick="switchTab('experience', event)">Experience</button>
            <button class="tab" onclick="switchTab('education', event)">Education</button>
            <button class="tab" onclick="switchTab('skills', event)">Skills</button>
            <button class="tab" onclick="switchTab('contact', event)">Contact</button>
            <button class="tab" onclick="switchTab('blogs', event)">Blogs</button>
        </div>

        <div class="content">
            <!-- PROFILE -->
            <div id="profile" class="tab-content active">
                <h2 class="section-title">Profile</h2>
                <input id="profileName" placeholder="Name">
                <input id="profileProfession" placeholder="Profession">
                <textarea id="profileAbout" placeholder="About"></textarea>
            </div>

            <!-- EXPERIENCE -->
            <div id="experience" class="tab-content">
                <h2 class="section-title">Experience</h2>
                <div id="experienceList"></div>
                <button onclick="addExperience()">‚ûï Add Experience</button>
            </div>

            <!-- EDUCATION -->
            <div id="education" class="tab-content">
                <h2 class="section-title">Education</h2>
                <div id="educationList"></div>
                <button onclick="addEducation()">‚ûï Add Education</button>
            </div>

            <!-- SKILLS -->
            <div id="skills" class="tab-content">
                <textarea id="skillsInput" placeholder="Add skills separated by commas"></textarea>
            </div>

            <!-- CONTACT -->
            <div id="contact" class="tab-content">
                <input id="contactEmail" placeholder="Email">
                <input id="contactGithub" placeholder="GitHub">
                <input id="contactLinkedin" placeholder="LinkedIn URL">
                <input id="contactTwitter" placeholder="Twitter/X">
            </div>

            <!-- BLOGS -->
            <div id="blogs" class="tab-content">
                <h2 class="section-title">Blogs</h2>
                <div id="blogsList"></div>
                <button onclick="addBlog()">‚ûï Add Blog</button>
            </div>
        </div>
    </div>
</div>

<script>
/* üîê LOGIN */
const PASSWORD = "Ahmed20012001.?";
function login() {
    const input = document.getElementById("adminPassword").value;
    if(input === PASSWORD) {
        sessionStorage.setItem("adminLoggedIn", "true");
        showAdmin();
    } else {
        document.getElementById("loginError").innerText = "Wrong password";
    }
}
function showAdmin() {
    document.getElementById("loginScreen").style.display = "none";
    document.getElementById("adminPanel").style.display = "block";
}
if(sessionStorage.getItem("adminLoggedIn") === "true") showAdmin();

/* üõ† DATA INIT */
let data = JSON.parse(localStorage.getItem("websiteData")) || {};
data.profile = data.profile || {};
data.skills = data.skills || [];
data.contact = data.contact || {};
data.experience = data.experience || [];
data.education = data.education || [];
data.blogs = data.blogs || [];

/* RENDER FUNCTIONS */
// EXPERIENCE
function renderExperience() {
    const container = document.getElementById("experienceList");
    container.innerHTML = "";
    data.experience.forEach((exp, idx) => {
        const div = document.createElement("div");
        div.classList.add("card");
        div.innerHTML = `
            <input placeholder="Position" value="${exp.position}" onchange="data.experience[${idx}].position=this.value">
            <input placeholder="Company" value="${exp.company}" onchange="data.experience[${idx}].company=this.value">
            <input placeholder="Years" value="${exp.years}" onchange="data.experience[${idx}].years=this.value">
            <textarea placeholder="Description" onchange="data.experience[${idx}].description=this.value">${exp.description || ''}</textarea>
            <button onclick="removeExperience(${idx})">üóë Remove</button>
        `;
        container.appendChild(div);
    });
}
function addExperience(){ data.experience.push({position:"", company:"", years:"", description:""}); renderExperience(); }
function removeExperience(idx){ data.experience.splice(idx,1); renderExperience(); }

// EDUCATION
function renderEducation() {
    const container = document.getElementById("educationList");
    container.innerHTML = "";
    data.education.forEach((edu, idx) => {
        const div = document.createElement("div");
        div.classList.add("card");
        div.innerHTML = `
            <input placeholder="Degree / Program" value="${edu.degree}" onchange="data.education[${idx}].degree=this.value">
            <input placeholder="School / University" value="${edu.school}" onchange="data.education[${idx}].school=this.value">
            <input placeholder="Years" value="${edu.years}" onchange="data.education[${idx}].years=this.value">
            <textarea placeholder="Description" onchange="data.education[${idx}].description=this.value">${edu.description || ''}</textarea>
            <button onclick="removeEducation(${idx})">üóë Remove</button>
        `;
        container.appendChild(div);
    });
}
function addEducation(){ data.education.push({degree:"", school:"", years:"", description:""}); renderEducation(); }
function removeEducation(idx){ data.education.splice(idx,1); renderEducation(); }

// BLOGS
function renderBlogs() {
    const container = document.getElementById("blogsList");
    container.innerHTML = "";
    data.blogs.forEach((blog, idx) => {
        const div = document.createElement("div");
        div.classList.add("card");
        div.innerHTML = `
            <input placeholder="Title" value="${blog.title}" onchange="data.blogs[${idx}].title=this.value">
            <input placeholder="Date (YYYY-MM-DD)" value="${blog.date}" onchange="data.blogs[${idx}].date=this.value">
            <textarea placeholder="Content" onchange="data.blogs[${idx}].content=this.value">${blog.content || ''}</textarea>
            <button onclick="removeBlog(${idx})">üóë Remove</button>
        `;
        container.appendChild(div);
    });
}
function addBlog() { data.blogs.push({title:"", date:"", content:""}); renderBlogs(); }
function removeBlog(idx) { data.blogs.splice(idx,1); renderBlogs(); }

// INITIAL RENDER
renderExperience();
renderEducation();
renderBlogs();

/* SAVE DATA */
function saveAllData(){
    data.profile.name = document.getElementById("profileName").value;
    data.profile.profession = document.getElementById("profileProfession").value;
    data.profile.about = document.getElementById("profileAbout").value;
    data.skills = document.getElementById("skillsInput").value.split(",").map(s => s.trim()).filter(s => s);
    data.contact.email = document.getElementById("contactEmail").value;
    data.contact.github = document.getElementById("contactGithub").value;
    data.contact.linkedin = document.getElementById("contactLinkedin").value;
    data.contact.twitter = document.getElementById("contactTwitter").value;

    localStorage.setItem("websiteData", JSON.stringify(data));
    document.getElementById("saveAlert").classList.add("active");
    setTimeout(()=>document.getElementById("saveAlert").classList.remove("active"),2000);
}

/* TAB SWITCH */
function switchTab(id,e){
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    document.querySelectorAll(".tab-content").forEach(c=>c.classList.remove("active"));
    e.target.classList.add("active");
    document.getElementById(id).classList.add("active");
}
</script>
</body>
</html>
